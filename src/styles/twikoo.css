  .tk-comments {
    @apply text-text-light dark:text-text-dark;
  }

  .tk-submit {
    .tk-avatar {
      @apply hidden;
    }
  }

  /* Text Area */
  .tk-row {
    .tk-col {
      @apply flex-col-reverse;
      .tk-input {
        textarea {
          @apply rounded-xl py-4 px-6 !min-h-[150px] focus:border-primary-light dark:focus:border-primary-dark;
        }
      }
    }
  }

  /* meta input style */
  .tk-meta-input {
    @apply relative mt-3;
    div {
      @apply min-h-10;
      .el-input-group__prepend {
        @apply !bg-inherit rounded-l-xl;
        min-height: inherit;
      }
      input {
        @apply px-4 rounded-r-xl focus:border-primary-light dark:focus:border-primary-dark;
        min-height: inherit;
      }
    }
  }

  /* Button */
  .tk-row.actions {
    @apply w-full !ml-0 !mt-0;
    .__markdown {
      @apply !hidden;
    }
    .tk-preview,
    .tk-send,
    .tk-cancel {
      @apply border-none rounded-lg px-3 py-0 h-8
         bg-primary-light dark:bg-primary-dark 
         text-white dark:text-gray-900
         disabled:opacity-50 disabled:cursor-not-allowed
         hover:opacity-90 transition-opacity;
    }
  }

  /* Comment title */
  .tk-comments-title {
    .__comments svg {
      @apply fill-primary-light dark:fill-primary-dark;
    }
  }

  .tk-comment {
    @apply border border-border-light dark:border-border-dark p-4 rounded-2xl hover:shadow-md transition-all;
    .tk-action-icon svg {
      @apply fill-primary-light dark:fill-primary-dark;
    }
  }

  .tk-action {
    .tk-action-count {
      @apply text-text-light dark:text-text-dark;
    }
  }

  .tk-meta {
    .tk-tag {
      @apply border-none rounded-lg text-white dark:text-gray-900;
    }

    .tk-tag-green {
      @apply bg-primary-light dark:bg-primary-dark text-white dark:text-gray-900;
    }
  }

  .tk-content,
  .tk-preview-container {
    a {
      @apply text-primary-light dark:text-primary-dark font-medium underline underline-offset-2 hover:underline-offset-4 transition-all;
    }

    .tk-ruser {
      @apply no-underline;
    }

    :not(pre) > code {
      @apply bg-gray-100 dark:bg-gray-800 rounded-md text-primary-light dark:text-primary-dark px-1 py-0.5 font-semibold;
    }

    li{
      @apply before:content-['•'] before:text-primary-light dark:before:text-primary-dark;
    }
  }

  /* Replies */
  .tk-replies {
    .tk-comment {
      @apply bg-background-light dark:bg-background-dark;
      .tk-content {
        > span:first-of-type {
          @apply text-xs;
        }
      }
    }
  }

  .twikoo .code-block {
    pre {
      @apply !rounded-xl;
    }

    .copy-btn-icon {
      width: inherit !important;
      height: inherit !important;
    }
  }

  .tk-expand-wrap .tk-expand,
  .tk-collapse-wrap .tk-expand {
    @apply rounded-xl mt-1 transition-all;
    @apply hover:bg-hover-light dark:hover:bg-hover-dark;
  }

  /*让表情组件在表情包数量太多的时候正确显示*/
  .card-base {
    overflow: visible;
}

/* 让图片类型表情不换行显示 */
.tk-content img, .tk-preview-container img {
  display: inline;
  vertical-align: bottom !important;
}

.tk-preview-container {
  margin-left: 0px !important;
  border-radius: 12px !important;
}

.tk-comments-title{
  display: none !important;
}

.OwO-body{
  border-radius: 12px !important;
}

/* --- 浅色模式 --- */
.tk-row.actions .tk-preview {
  background-color: #bbbbbb4a !important; /* 基础：浅灰半透明 */
  color: #000000 !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
}

/* 浅色 hover：颜色加深（透明度从 4a 增加到 80，或颜色变深） */
.tk-row.actions .tk-preview:hover {
  background-color: #bbbbbb80 !important; /* 变深一点 */
}

/* --- 深色模式 --- */
html.dark .tk-row.actions .tk-preview {
  background-color: #8686864a !important; /* 基础：深灰半透明 */
  color: #f3f4f6 !important;
}

/* 深色 hover：颜色变亮（将 86 提升至 bbbbbb，或增加透明度） */
html.dark .tk-row.actions .tk-preview:hover {
  background-color: #86868672 !important; /* 变亮一点 */
  /* 或者使用更亮的色值：background-color: #bbbbbb4a !important; */
}


.tk-avatar {
  border-radius: 50% !important;
  overflow: hidden !important; 

  border:2px solid #8686864a !important;
  transition: border-color 0.3s ease !important; /* 让颜色切换更平滑 */
}

.tk-avatar-img {
  object-fit: cover !important; 
  border-radius: 50% !important;
}

.tk-expand-wrap .tk-expand{
  margin-top: 1rem !important;
}

#twikoo > .tk-comments > .tk-comments-container > .tk-expand-wrap > .tk-expand {
    /* 1. 必须先把基础状态的宽度设为固定的 100% 或具体数值，动画才有参考系 */
    width: 100% !important;
    max-width: 100%;
    
    /* 2. 强制设为 flex 布局并居中，这是让文字和容器同步收缩最稳的方法 */
    display: flex !important;
    justify-content: center;
    align-items: center;
    
    /* 3. 使用三次贝塞尔曲线 (Cubic Bezier) 代替 ease，这是丝滑的关键 */
    /* 0.4, 0, 0.2, 1 是典型的 Material Design 缓动曲线 */
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    
    margin: 10px auto !important;
    overflow: hidden !important;
    white-space: nowrap !important;
}

#twikoo > .tk-comments > .tk-comments-container > .tk-expand-wrap > .tk-expand:hover {
    width: 25% !important;
    /* 4. 稍微加一点字间距变化，能抵消宽度缩小带来的文字局促感 */
    letter-spacing: 1px;
}

#twikoo > div.tk-comments > div.tk-submit.tk-fade-in > div.tk-row.actions > div.tk-row-actions-start > div:nth-child(2) {
    display: none !important;
}

html.dark .OwO-body {
  background-color: #000000 !important;
}

html.dark .OwO-body li{
  color: #ffffff !important;
}

html.dark .OwO-body span{
  color: #ffffff !important;
}

/* 定义颜色变量 */
:root {
    --owo-scroll-thumb: #cccccc;
    --owo-scroll-hover: #999999;
}

html.dark {
    --owo-scroll-thumb: #333333;
    --owo-scroll-hover: #555555;
}

/* 通用结构代码（只需写一套） */
.OwO-body ::-webkit-scrollbar { width: 12px; }

.OwO-body ::-webkit-scrollbar-track {
    background-color: transparent;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    background-clip: padding-box;
}

.OwO-body ::-webkit-scrollbar-thumb {
    background-color: var(--owo-scroll-thumb); /* 使用变量 */
    border-radius: 10px !important;
    border: 3px solid transparent;
    background-clip: padding-box;
}

.OwO-body ::-webkit-scrollbar-thumb:hover {
    background-color: var(--owo-scroll-hover); /* 使用变量 */
    border: 3px solid transparent;
    background-clip: padding-box;
}